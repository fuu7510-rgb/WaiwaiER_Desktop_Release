# WaiwaiER Desktop リリースノート

## 概要
- リリース: v0.1.0
- チャネル: ALPHA
- 対象OS: Windows
- 配布形態: ストア不使用（手動アップデート）
- 配布物（MSI）: `WaiwaiER-Desktop-0.1.0-alpha-win64-msi.zip`

## ダウンロード
- GitHub Releases（このリポジトリのReleasesページ）からダウンロード
	- 配布物（MSI）: `WaiwaiER-Desktop-0.1.0-alpha-win64-msi.zip`

## 重要（必読）
- 破壊的変更の可能性: 本ビルドはALPHAのため、今後の更新でデータ形式（DB/プロジェクト/エクスポート）が破壊的に変更される可能性があります。
- アップデート前バックアップ推奨: 更新前に必ずエクスポート（JSON/パッケージ）などでバックアップしてください。
- コード署名: 本ビルドはコード署名を行っていません（アルファでは未対応）。

## インストール
1. 配布ZIP（MSI）を展開
2. 展開したMSIを実行

## 手動アップデート
- 手順は [docs/RELEASE_ALPHA_PLAN.md](docs/RELEASE_ALPHA_PLAN.md) を参照

## 変更点
### 追加
- リリースチャネル表示（ALPHA/BETA/STABLE）
- バージョン情報（About/Version）表示

### 改善
- 公開/運用ドキュメント整備（ストア不使用・手動アップデート前提）

### 修正
- Windowsビルドのbundle identifier設定

### 互換性（重要）
- ダイアグラム保存スキーマを正式化（envelope形式、`schemaVersion` を導入）。保存データは将来の拡張に向けてバージョニングされます。
- 旧形式（v0: legacy）と新形式（v1: envelope）を読み込み時に自動でマイグレーションする処理を追加。旧プロジェクトの読み込みをサポートします。
- パッケージ（.waiwai）にパッケージ形式世代とダイアグラムスキーマ世代のチェックを追加。互換性のないパッケージはインポート時に明示的なエラーを返します。
- ダイアグラムの暗号化ペイロード（v1）をサポート。暗号化プロジェクトはパスフレーズが必要です。
- Tauri の SQLite に対して `projects` テーブルの列追加マイグレーション（`passphrase_salt`, `passphrase_hash`）を実装しました。
- 推奨: アップデート前に各プロジェクトをエクスポート（JSON/パッケージ）してバックアップしてください。互換性に問題が発生した場合、中間バージョンを経由したアップデートが必要になることがあります。

## 既知の制限
- ALPHAのため、互換性（DB/プロジェクト形式）が将来変更される可能性があります。

## 不具合報告
- 手順/期待/実際の結果、OS、バージョン（設定→バージョン情報の値）を添えて連絡
- 連絡先: GitHub Issues（配布用Publicリポジトリ）
- 注意: Issuesは公開されます。個人情報・社外秘情報・顧客データ等は記載しないでください。
